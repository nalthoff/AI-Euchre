<div class="game-board">
  <!-- Trump indicator in top-right -->
  <div class="trump-indicator" *ngIf="gameSvc.trump">
    Trump: {{ suitSymbols[gameSvc.trump] }}
  </div>
  <!-- 1) Trump selection, until trump is chosen -->
  <div class="trump-selection" *ngIf="!gameSvc.trump && gameSvc.currentKitty && !gameSvc.awaitingDiscard">
    <h3>
      Trump Up:
      {{ gameSvc.currentKitty.rank }}
      {{ suitSymbols[gameSvc.currentKitty.suit] }}
    </h3>
    <button (click)="onOrderUp()">Order Up</button>
    <button (click)="onPass()">Pass</button>
  </div>

  <!-- 2) AI seats, once trump is set -->
  <div class="seat top" *ngIf="gameSvc.trump">
    <h4>Partner</h4>
    <div class="cards">
      <div class="card-back" *ngFor="let _ of gameSvc.currentHands[2]">ðŸ‚ </div>
    </div>
  </div>
  <div class="seat left" *ngIf="gameSvc.trump">
    <h4>Left Opponent</h4>
    <div class="cards">
      <div class="card-back" *ngFor="let _ of gameSvc.currentHands[3]">ðŸ‚ </div>
    </div>
  </div>
  <div class="seat right" *ngIf="gameSvc.trump">
    <h4>Right Opponent</h4>
    <div class="cards">
      <div class="card-back" *ngFor="let _ of gameSvc.currentHands[1]">ðŸ‚ </div>
    </div>
  </div>

  <!-- 3) Trick area in center -->
  <!-- <div class="trick-area main" *ngIf="currentTrick.length"> -->
  <div class="trick-area main" *ngIf="currentTrick.length" (click)="onAdvanceTrick()">
    <h4>Current Trick</h4>
    <div class="cards">
      <div class="card-played" *ngFor="let play of currentTrick">
        <span class="seat-label">P{{ play.player + 1 }}</span>
        <span class="card" [ngClass]="{'played-card': true}">
          {{ play.card.rank }}
          <span class="suit" [ngClass]="{
              'red-suit': play.card.suit==='hearts'||play.card.suit==='diamonds'
            }">
            {{ suitSymbols[play.card.suit] }}
          </span>
        </span>
      </div>
    </div>
    <p class="advance-hint">Click here to advance to the next trick</p>
  </div>

  <!-- 4) Human hand at bottom; clickable cards -->
  <div class="seat bottom">
    <h4>Your Hand</h4>
    <p *ngIf="gameSvc.awaitingDiscard" class="discard-hint">
      Click a card below to discard
    </p>
    <div class="cards">
      <!-- <div class="card" *ngFor="let card of gameSvc.currentHands[0]" (click)="onCardClick(card)"> -->
      <div class="card" *ngFor="let card of gameSvc.currentHands[0]"
        (click)="gameSvc.awaitingDiscard ? onDiscardCard(card) : onCardClick(card)"
        [class.discarding]="gameSvc.awaitingDiscard">

        <span class="rank">{{ card.rank }}</span>
        <span class="suit" [ngClass]="{
            'red-suit': card.suit==='hearts'||card.suit==='diamonds'
          }">
          {{ suitSymbols[card.suit] }}
        </span>
      </div>
    </div>
  </div>
  <!-- Restart button once all cards have been played -->
  <div class="restart-container" *ngIf="gameSvc.currentHands[0]?.length === 0">
    <button class="new-game-btn" (click)="restart()">New Game</button>
  </div>
</div>